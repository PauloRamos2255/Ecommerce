@{
    ViewBag.Title = "Tienda";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!doctype html>
<html lang="es">

<head>
    <title>TADI</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="~/Content/style.css">
    <link href="~/Content/iconos.css" rel="stylesheet" />
    <style>
        .card.mt-2 {
            width: 170px;
        }
        .card-img-top {
            width: 145px;
            height: 120px;
            margin: 0 auto;
        }
        #cards-container {
            margin-top: 120px; /* Ajusta el valor según la cantidad de espacio superior que desees */
            margin-right: 50px; /* Ajusta el valor según la cantidad de espacio derecho que desees */
        }
        #contenedor {
            margin-top: 50px
        }
    </style>
</head>

<body>
  
    <main class="mt-3">
        <div class="container m-3">
            <div class="row">
                <!-- Sección de Categorías y Marcas -->
                <div class="col-sm-3">
                    <div class="clearfix" id="cards-container">
                        <div class="row mb-3">
                            <div class="col-sm-12">
                                <div class="card mb-4">
                                    <!-- Agregamos la clase mb-4 para agregar un margen inferior -->
                                    <div class="card-header bg-dark text-white">
                                        Categorias
                                    </div>
                                    <div id="contenedor_categoria" class="card-body">
                                        <!-- Aquí puedes agregar las categorías dinámicamente con JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-12">
                                <div class="card mb-4">
                                    <!-- Agregamos la clase mb-4 para agregar un margen inferior -->
                                    <div class="card-header bg-dark text-white">
                                        Marcas
                                    </div>
                                    <div id="contenedor_marca" class="card-body">
                                        <!-- Aquí puedes agregar las marcas dinámicamente con JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-12">
                                <div class="d-grid gap-2">
                                    <button id="btnfiltro" class="btn btn-outline-dark btn-block" type="button">
                                        <i class="fas fa-filter"></i> Aplicar Filtro
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Sección de Productos -->
                <div class="col-sm-9" id="contenedor">
                    <h1 class="pt-5 text-left text-primary text-center">Supermercados TADI</h1>
                    <div class="row" id="menu">
                        <!-- Aquí se mostrarán los productos dinámicamente con JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <div class="container m-7">
            <h4 class="pt-5 text-left text-success" id="catalogo">CATALOGO DE PRODUCTOS</h4>
            <div class="row">

                <div class="col-lg-3 col-md-3 col-sm-3 text-center">
                    <div class="card mt-2" style="width: 170px;">
                        <img src="/imagenes/prod1.png" class="card-img-top" alt="" style="width: 80px; height: 120px; margin: 0 auto" id="lacteos">
                        <div class="card-body">
                            <h6 class="card-title ">Leche Gloria 1L</h6>
                            <h6 class="text-danger">
                                S/4.49
                            </h6>
                            <hr>
                            <button type="button" class="btn btn-outline-dark"><i class="bi bi-bag-plus-fill"></i></button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 text-center">
                    <div class="card mt-2" style="width: 170px;">
                        <img src="/imagenes/promo2.png" class="card-img-top" alt="" style="width: 145px; height: 120px; margin: 0 auto">
                        <div class="card-body">
                            <h6 class="card-title ">Aceite Cocinero</h6>
                            <h6 class="text-danger">
                                S/4.53
                            </h6>
                            <hr>
                            <button type="button" class="btn btn-outline-dark"><i class="bi bi-bag-plus-fill"></i></button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 text-center">
                    <div class="card mt-2" style="width: 170px;">
                        <img src="/imagenes/promo3.png" class="card-img-top" alt="" style="width: 145px; height: 120px; margin: 0 auto">
                        <div class="card-body">
                            <h6 class="card-title ">Atun Florida</h6>
                            <h6 class="text-danger">
                                S/3.00
                            </h6>
                            <hr>
                            <button type="button" class="btn btn-outline-dark"><i class="bi bi-bag-plus-fill"></i></button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 text-center">
                    <div class="card mt-2" style="width: 170px;">
                        <img src="/imagenes/promo1.png" class="card-img-top" alt="" style="width: 145px; height: 120px; margin: 0 auto">
                        <div class="card-body">
                            <h6 class="card-title ">Yogurt Gloria 1L</h6>
                            <h6 class="text-danger">
                                S/4.49
                            </h6>
                            <hr>
                            <button type="button" class="btn btn-outline-dark"><i class="bi bi-bag-plus-fill"></i></button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-3 col-md-3 col-sm-3 text-center">
                    <div class="card mt-2" style="width: 170px;">
                        <img src="/imagenes/prod1.png" class="card-img-top" alt="" style="width: 80px; height: 120px; margin: 0 auto">
                        <div class="card-body">
                            <h6 class="card-title ">Leche Gloria 1L</h6>
                            <h6 class="text-danger">
                                S/4.49
                            </h6>
                            <hr>
                            <button type="button" class="btn btn-outline-dark"><i class="bi bi-bag-plus-fill"></i></button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 text-center">
                    <div class="card mt-2" style="width: 170px;">
                        <img src="/imagenes/prod2.png" class="card-img-top" alt="" style="width: 140px; height: 120px; margin: 0 auto" id="abarrotes">
                        <div class="card-body">
                            <h6 class="card-title ">Lenteja Costeño</h6>
                            <h6 class="text-danger">
                                S/3.00
                            </h6>
                            <hr>
                            <button type="button" class="btn btn-outline-dark"><i class="bi bi-bag-plus-fill"></i></button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 text-center">
                    <div class="card mt-2" style="width: 170px;">
                        <img src="/imagenes/prod3.png" class="card-img-top" alt="" style="width: 80px; height: 120px; margin: 0 auto">
                        <div class="card-body">
                            <h6 class="card-title ">Azucar Bell's 1.3kg</h6>
                            <h6 class="text-danger">
                                S/5.00
                            </h6>
                            <hr>
                            <button type="button" class="btn btn-outline-dark"><i class="bi bi-bag-plus-fill"></i></button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 text-center">
                    <div class="card mt-2" style="width: 170px;">
                        <img src="/imagenes/prod4.png" class="card-img-top" style="width: 80px; height: 120px; margin: 0 auto">
                        <div class="card-body">
                            <h6 class="card-title ">Aceite Cocinero 1L</h6>
                            <h6 class="text-danger">
                                S/6.00
                            </h6>
                            <hr>
                            <button type="button" class="btn btn-outline-dark"><i class="bi bi-bag-plus-fill"></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-3 col-md-3 col-sm-3 text-center">
                    <div class="card mt-2" style="width: 170px;">
                        <img src="/imagenes/prod7.png" class="card-img-top" alt="" style="width: 80px; height: 120px; margin: 0 auto">
                        <div class="card-body">
                            <h6 class="card-title ">Inka Kola 2.5L</h6>
                            <h6 class="text-danger">
                                S/10
                            </h6>
                            <hr>
                            <button type="button" class="btn btn-outline-dark"><i class="bi bi-bag-plus-fill"></i></button>
                        </div>
                    </div>
                </div>


                <div class="col-lg-3 col-md-3 col-sm-3 text-center">
                    <div class="card mt-2" style="width: 170px;">
                        <img src="/imagenes/prod8.png" class="card-img-top" alt="" style="width: 80px; height: 120px; margin: 0 auto">
                        <div class="card-body">
                            <h6 class="card-title ">Agua Cielo 7L</h6>
                            <h6 class="text-danger">
                                S/15.00
                            </h6>
                            <hr>
                            <button type="button" class="btn btn-outline-dark"><i class="bi bi-bag-plus-fill"></i></button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 text-center">
                    <div class="card mt-2" style="width: 170px;">
                        <img src="/imagenes/prod9.png" class="card-img-top" alt="" style="width: 80px; height: 120px; margin: 0 auto">
                        <div class="card-body">
                            <h6 class="card-title ">Coca Cola 2.5L</h6>
                            <h6 class="text-danger">
                                S/10
                            </h6>
                            <hr>
                            <button type="button" class="btn btn-outline-dark"><i class="bi bi-bag-plus-fill"></i></button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-3 col-sm-3 text-center">
                    <div class="card mt-2" style="width: 170px;">
                        <img src="/imagenes/prod10.png" class="card-img-top" style="width: 80px; height: 120px; margin: 0 auto" id="bebidas">
                        <div class="card-body">
                            <h6 class="card-title ">Vino</h6>
                            <h6 class="text-danger">
                                S/70.00
                            </h6>
                            <hr>
                            <button type="button" class="btn btn-outline-dark"><i class="bi bi-bag-plus-fill"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container"></div>
        <nav aria-label="Page navigation example">
            <ul class="pagination pagination-sm justify-content-center">
                <li class="page-item">
                    <a class="page-link" href="#" tabindex="-1">1</a>
                </li>
                <li class="page-item active"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
            </ul>
        </nav>

        <section>
            <div class="container-fluid bg-danger text-white">
                <div class="row">
                    <h3 class="text-center" id="contactanos">CONTACTANOS</h3>
                    <div class="col-lg-4">
                        <h5 class="text-center">Correo Electronico <i class="bi bi-envelope-at"></i></h5>
                        <h6 class="text-center">supertadi@gmail.com</h6>
                    </div>
                    <div class="col-lg-4">
                        <h5 class="text-center">Numero Telefonico <i class="bi bi-telephone"></i></h5>
                        <p class="text-center">987654321</p>
                    </div>
                    <div class="col-lg-4">
                        <h5 class="text-center">Nuestras Redes Sociales</h5>
                        <div class="d-flex justify-content-around">
                            <p>Super Tadi <i class="bi bi-facebook"></i></p>
                            <p>Super Tadi <i class="bi bi-instagram"></i></p>
                            <p>Super Tadi <i class="bi bi-twitter"></i></p>
                        </div>
                    </div>
                </div>
            </div>

        </section>
    </main>

    <!-- Bootstrap JavaScript Libraries -->
    <script src="~/Scripts/popper.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script>
                function myFunction() {
                    window.location.href = "@Url.Action("Index","Home")";
                }
    </script>
    @section scripts{
        <script>

            $(document).ready(function (){
                MostrarProductos(0,0)
            })


            function MostrarProductos(IdCategorias, IdMarcas) {
    $.ajax({
        url: "@Url.Action("ListarProducto","Tienda")",
        type: "POST",
        data: JSON.stringify({ IdCategoria: IdCategorias, IdMarca: IdMarcas }),
        dataType: "json",
        contentType: "application/json; charset=utf-8",
        success: function (response) {
            $("#menu").html("");
            $("#menu").LoadingOverlay("hide");

            $.each(response.data, function (i, element) {
                $("<div>").addClass("col-lg-3 col-md-3 col-sm-3 text-center").append(
                    $("<div>").addClass("card mt-2").append(
                        /*$("<img>").addClass("card-img-top").attr("src", "data:image/" + element.Extension + ";base64," + element.Base64),*/
                        $("<img>").addClass("card-img-top").attr("src", element.RutaImagen),
                        $("<div>").addClass("card-body").append(
                            $("<h6>").addClass("card-title").text(element.Nombre),
                            $("<h6>").addClass("text-danger").text("S/." + element.Precio),
                            $("<hr>"),
                            $("<button>").addClass("btn btn-outline-dark").append(
                                $("<i>").addClass("bi bi-bag-plus-fill")
                            )
                        )
                    )
                ).appendTo("#menu");
            });
        },
        beforeSend: function () {
            $("#menu").LoadingOverlay("show");
        }
    });
}

        </script>
    }
</body>

</html>
